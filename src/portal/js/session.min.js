var session={start:function(e,t,n){let s="996e83d7844145cfbc7e3f1ca2832fa2";document.sendin.username.value=document.login.username.value;let a=JSON.stringify({key:s}),o=new XMLHttpRequest;o.open("POST","https://devhotspotapi.bao.co.tz/api/Voucher/StartSession",!0),o.setRequestHeader("content-type","application/json;charset=UTF-8"),o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){let a=o.status;if(0===a||a>=200&&a<400){console.log(JSON.stringify("response: "+o.responseText));let r=nacl.randomBytes(24),i=JSON.parse(o.responseText);var p={login:document.login.username.value,routerId:s,routerKey:"b4446feaf944492dab9ebe69efe41a92",routerIP:e,clientMac:t,clientIP:n};let l=new TextEncoder,u=nacl.box(l.encode(JSON.stringify(p)),r,Uint8Array.from(atob(i.result.pub),e=>e.charCodeAt(0)),Uint8Array.from(atob(i.result.pki),e=>e.charCodeAt(0))),c=JSON.stringify({CipherText:btoa(String.fromCharCode.apply(null,new Uint8Array(u))),Code:btoa(String.fromCharCode.apply(null,new Uint8Array(r))),Key:s}),d=new XMLHttpRequest;d.open("POST","https://devhotspotapi.bao.co.tz/api/Voucher/SaveSession",!0),d.setRequestHeader("content-type","application/json;charset=UTF-8"),d.onreadystatechange=function(){if(d.readyState===XMLHttpRequest.DONE){let e=d.status;if(0===e||e>=200&&e<400){console.log(d.responseText);let t=JSON.parse(d.responseText);document.sendin.password.value=t.result,document.sendin.submit()}}},d.send(c)}}},o.send(a)}};